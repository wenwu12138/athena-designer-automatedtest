# 公共参数
case_common:
  allureEpic: 开发平台接口
  allureFeature: 基础功能验证
  allureStory: 基于已有数据验证基础功能z_2.0应用


#2.0应用，根据开发分支创建备份分支
basis_AddBranch_002:
  host: ${{athena_designer_host()}}
  url: /athena-designer/multiBranch/createNewBranch
  method: POST
  detail: 2.0应用基础功能验证_新增分支接口
  headers:
    digi-middleware-auth-user: $cache{token}    #cookie: $cache{login_cookie}
  requestType: json
  is_run: true
  data:
    targetBranch: bak
    sourceBranch: develop
    lang:
      title:
        zh_CN: ${{get_time()}}
        zh_TW: ${{get_time()}}
        en_US: ${{get_time()}}
      description:
        en_US: ""
        zh_CN: ""
        zh_TW: ""
    application: ${{app2_code()}}
  # 是否有依赖业务，为空或者false则表示没有
  dependence_case: False
  # 依赖的数据
  dependence_case_data:
  assert:
    code:
      jsonpath: $.code
      type: ==
      value: 0
      AssertType:
  current_request_set_cache:
    # type 指定获取缓存路径及方式
    - type: request
      jsonpath: $.application
      # 自定义缓存名称
      name: BranchApp


# 2.0应用根据备份分支编译
basis_Compile_002:
  host: ${{athena_designer_host()}}
  url: /athena-designer/application/compile
  method: POST
  detail: 2.0应用基础功能验证_编译备份分支
  headers:
    digi-middleware-auth-user: $cache{token}    #cookie: $cache{login_cookie}
  requestType: json
  is_run: true
  data:
    application: ${{app2_code()}}
    description: ${{get_time()}}-備份分支(備份分支2)編譯
    branch: bak
    versionNum:
      - "1"
      - "0"
      - "0"
      - "${{get_time()}}"
    versionLetter: alpha
    version: 1.0.0.${{get_time()}}_alpha
  # 是否有依赖业务，为空或者false则表示没有
  dependence_case: False
  # 依赖的数据
  dependence_case_data:
  assert:
    code:
      jsonpath: $.code
      type: ==
      value: 0
      AssertType:
  current_request_set_cache:
    # type 指定获取缓存路径及方式
    - type: response
      jsonpath: $.data
      # 自定义缓存名称
      name: compileDataCode

#2.0应用发版测试区
basis_PublishTest_002:
  host: ${{athena_designer_host()}}
  url: /athena-designer/application/addDeployPlan
  method: POST
  detail: 2.0应用基础功能验证_发版测试区
  headers:
    digi-middleware-auth-user: $cache{token}    #cookie: $cache{login_cookie}
  requestType: json
  is_run: true
  data:
    applicationDataList:
      - application: ${{app2_code()}}
        compileDataCode: $cache{compileDataCode}
        applicationInfoDto:
          createBy: wenwu@digiwin.com
          createDate: '2025-05-16 00:50:37'
          editBy: wenwu@digiwin.com
          editDate: "'2025-05-16 00:50:37'"
          lang:
            name:
              zh_CN: 通用验证Z
              zh_TW: 通用驗證Z
              en_US: 通用驗證Z
            description:
              zh_CN: 通用验证Z
              zh_TW: 通用驗證Z
              en_US: 通用驗證Z
          objectId: 68261b5d42bd111dc73b7976
          code: ${{app2_code()}}
          name: 通用驗證Z
          description: 通用驗證Z
          tenantId: lcdp
          appToken: ${{app2_Token()}}
          appType: 5
          iconName: 1.png
          iconBgcolor: '#0189FF'
          commonApp: false
          latestCompileVersion: 1.0.0.2508211627_alpha
          latestCompileDescription: 20250821162729-備份分支(備份分支2)編譯
          deleteOrder: 0
          appTypes:
            - 5
          abandon: 0
          appStatus: success
          useTenantInfos: [ ]
          assetInitFlag: { }
    tenantUsers:
      - option: 1
        tenantId: lcdp
        tenantSid: 501035035546176
        tenantName: 鼎捷开发平台测试租户
        testTenant: false
    syncEsp: false
    envServiceId: HuaweiTest
    env: HuaweiTest-TEST
  # 是否有依赖业务，为空或者false则表示没有
  dependence_case: False
  # 依赖的数据
  dependence_case_data:
  assert:
    code:
      jsonpath: $.code
      type: ==
      value: 0
      AssertType:


#2.0切版测试区
basis_SwitchPlanTest_002:
  host: ${{athena_designer_host()}}
  url: /athena-designer/application/addSwitchPlan
  method: POST
  detail: 2.0应用基础功能验证_切版测试区
  headers:
    digi-middleware-auth-user: $cache{token}    #cookie: $cache{login_cookie}
  requestType: json
  is_run: true
  data:
    applicationDataList:
      - application: ${{app2_code()}}
        applicationInfoDto:
          createBy: wenwu@digiwin.com
          createDate: '2025-05-16 00:50:37'
          editBy: wenwu@digiwin.com
          editDate: "'2025-05-16 00:50:37'"
          lang:
            name:
              zh_CN: 通用验证Z
              zh_TW: 通用驗證Z
              en_US: 通用驗證Z
            description:
              zh_CN: 通用验证Z
              zh_TW: 通用驗證Z
              en_US: 通用驗證Z
          objectId: 68261b5d42bd111dc73b7976
          code: ${{app2_code()}}
          name: 通用驗證Z
          description: 通用驗證Z
          tenantId: lcdp
          appToken: ${{app2_Token()}}
          appType: 5
          iconName: 1.png
          iconBgcolor: '#0189FF'
          commonApp: false
          latestCompileVersion: 1.0.0.2508211627_alpha
          latestCompileDescription: 20250821162729-備份分支(備份分支2)編譯
          deleteOrder: 0
          appTypes:
            - 5
          abandon: 0
          appStatus: success
          useTenantInfos: [ ]
          assetInitFlag: { }
    tenantUsers:
      - tenantId: lcdp
        tenantName: 鼎捷开发平台测试租户
        testTenant: false
    switchEspAction: false
    envServiceId: HuaweiTest
    env: HuaweiTest-PROD

  # 是否有依赖业务，为空或者false则表示没有
  dependence_case: False
  # 依赖的数据
  dependence_case_data:
  assert:
    code:
      jsonpath: $.code
      type: ==
      value: 0
      AssertType:

#2.0发版华为正式
basis_PublishHuaweiProd_002:
  host: ${{athena_designer_host()}}
  url: /athena-designer/application/addDeployPlan
  method: POST
  detail: 2.0应用基础功能验证_发版华为正式区
  headers:
    digi-middleware-auth-user: $cache{token}    #cookie: $cache{login_cookie}
  requestType: json
  is_run: "'正式' in '${{env()}}'"
  data:
    applicationDataList:
      - application: ${{app2_code()}}
        compileDataCode: $cache{compileDataCode}
        applicationInfoDto:
          createBy: wenwu@digiwin.com
          createDate: '2025-05-16 00:50:37'
          editBy: wenwu@digiwin.com
          editDate: '2025-05-16 00:50:37'
          lang:
            name:
              zh_CN: 通用验证Z
              zh_TW: 通用驗證Z
              en_US: 通用驗證Z
            description:
              zh_CN: 通用验证Z
              zh_TW: 通用驗證Z
              en_US: 通用驗證Z
          objectId: 68261b5d42bd111dc73b7976
          code: ${{app2_code()}}
          name: 通用驗證Z
          description: 通用驗證Z
          tenantId: lcdp
          appToken: ${{app2_Token()}}
          appType: 5
          iconName: 1.png
          iconBgcolor: '#0189FF'
          commonApp: false
          latestCompileVersion: 1.0.0.2508211627_alpha
          latestCompileDescription: 20250821162729-備份分支(備份分支2)編譯
          deleteOrder: 0
          appTypes:
            - 5
          abandon: 0
          appStatus: success
          useTenantInfos: [ ]
          assetInitFlag: { }
    tenantUsers:
      - option: 1
        tenantId: lcdp
        tenantSid: 609649220293184
        tenantName: 鼎捷开发平台测试租户
        testTenant: true
    syncEsp: false
    envServiceId: HuaweiProd
    env: HuaweiProd-TEST
  # 是否有依赖业务，为空或者false则表示没有
  dependence_case: False
  # 依赖的数据
  dependence_case_data:
  assert:
    code:
      jsonpath: $.code
      type: ==
      value: 0
      AssertType:


#2.0切版华为正式
basis_SwitchPlanHuaweiProd_002:
  host: ${{athena_designer_host()}}
  url: /athena-designer/application/addSwitchPlan
  method: POST
  detail: 2.0应用基础功能验证_切版测试区
  headers:
    digi-middleware-auth-user: $cache{token}    #cookie: $cache{login_cookie}
  requestType: json
  is_run: "'正式' in '${{env()}}'"
  data:
    applicationDataList:
      - application: ${{app2_code()}}
        applicationInfoDto:
          createBy: wenwu@digiwin.com
          createDate: '2025-05-16 00:50:37'
          editBy: wenwu@digiwin.com
          editDate: '2025-05-16 00:50:37'
          lang:
            name:
              zh_CN: 通用验证Z
              zh_TW: 通用驗證Z
              en_US: 通用驗證Z
            description:
              zh_CN: 通用验证Z
              zh_TW: 通用驗證Z
              en_US: 通用驗證Z
          objectId: 68261b5d42bd111dc73b7976
          code: ${{app2_code()}}
          name: 通用驗證Z
          description: 通用驗證Z
          tenantId: lcdp
          appToken: ${{app2_Token()}}
          appType: 5
          iconName: 1.png
          iconBgcolor: '#0189FF'
          commonApp: false
          latestCompileVersion: 1.0.0.2508211627_alpha
          latestCompileDescription: 20250821162729-備份分支(備份分支2)編譯
          deleteOrder: 0
          appTypes:
            - 5
          abandon: 0
          appStatus: success
          useTenantInfos: [ ]
          assetInitFlag: { }
    tenantUsers:
      - tenantId: lcdp
        tenantName: 鼎捷开发平台测试租户
        testTenant: true
    switchEspAction: false
    envServiceId: HuaweiProd
    env: HuaweiProd-PROD

  # 是否有依赖业务，为空或者false则表示没有
  dependence_case: False
  # 依赖的数据
  dependence_case_data:
  assert:
    code:
      jsonpath: $.code
      type: ==
      value: 0
      AssertType:

#1.0发版微软正式
basis_PublishAzureProd_002:
  host: ${{athena_designer_host()}}
  url: /athena-designer/application/addDeployPlan
  method: POST
  detail: 2.0应用基础功能验证_发版微软正式
  headers:
    digi-middleware-auth-user: $cache{token}    #cookie: $cache{login_cookie}
  requestType: json
  is_run: "'正式' in '${{env()}}'"
  data:
    applicationDataList:
      - application: ${{app2_code()}}
        compileDataCode: $cache{compileDataCode}
        applicationInfoDto:
          createBy: wenwu@digiwin.com
          createDate: '2025-05-16 00:50:37'
          editBy: wenwu@digiwin.com
          editDate: '2025-05-16 00:50:37'
          lang:
            name:
              zh_CN: 通用验证Z
              zh_TW: 通用驗證Z
              en_US: 通用驗證Z
            description:
              zh_CN: 通用验证Z
              zh_TW: 通用驗證Z
              en_US: 通用驗證Z
          objectId: 68261b5d42bd111dc73b7976
          code: ${{app2_code()}}
          name: 通用驗證Z
          description: 通用驗證Z
          tenantId: lcdp
          appToken: ${{app2_Token()}}
          appType: 5
          iconName: 1.png
          iconBgcolor: '#0189FF'
          commonApp: false
          latestCompileVersion: 1.0.0.2508211627_alpha
          latestCompileDescription: 20250821162729-備份分支(備份分支2)編譯
          deleteOrder: 0
          appTypes:
            - 5
          abandon: 0
          appStatus: success
          useTenantInfos: [ ]
          assetInitFlag: { }
    tenantUsers:
      - option: 1
        tenantId: lcdp
        tenantSid: 631276495094336
        tenantName: 鼎捷开发平台测试租户
        testTenant: true
    syncEsp: false
    envServiceId: AzureProd
    env: AzureProd-TEST
  # 是否有依赖业务，为空或者false则表示没有
  dependence_case: False
  # 依赖的数据
  dependence_case_data:
  assert:
    code:
      jsonpath: $.code
      type: ==
      value: 0
      AssertType:


#2.0切版微软正式区
basis_SwitchPlanAzureProd_002:
  host: ${{athena_designer_host()}}
  url: /athena-designer/application/addSwitchPlan
  method: POST
  detail: 2.0应用基础功能验证_切版微软正式区
  headers:
    digi-middleware-auth-user: $cache{token}    #cookie: $cache{login_cookie}
  requestType: json
  is_run: "'正式' in '${{env()}}'"
  data:
    applicationDataList:
      - application: ${{app2_code()}}
        applicationInfoDto:
          createBy: wenwu@digiwin.com
          createDate: '2025-05-16 00:50:37'
          editBy: wenwu@digiwin.com
          editDate: "'2025-05-16 00:50:37'"
          lang:
            name:
              zh_CN: 通用验证Z
              zh_TW: 通用驗證Z
              en_US: 通用驗證Z
            description:
              zh_CN: 通用验证Z
              zh_TW: 通用驗證Z
              en_US: 通用驗證Z
          objectId: 68261b5d42bd111dc73b7976
          code: ${{app2_code()}}
          name: 通用驗證Z
          description: 通用驗證Z
          tenantId: lcdp
          appToken: ${{app2_Token()}}
          appType: 5
          iconName: 1.png
          iconBgcolor: '#0189FF'
          commonApp: false
          latestCompileVersion: 1.0.0.2508211627_alpha
          latestCompileDescription: 20250821162729-備份分支(備份分支2)編譯
          deleteOrder: 0
          appTypes:
            - 5
          abandon: 0
          appStatus: success
          useTenantInfos: [ ]
          assetInitFlag: { }
    tenantUsers:
      - tenantId: lcdp
        tenantName: 鼎捷开发平台测试租户
        testTenant: true
    switchEspAction: false
    envServiceId: AzureProd
    env: AzureProd-PROD

  # 是否有依赖业务，为空或者false则表示没有
  dependence_case: False
  # 依赖的数据
  dependence_case_data:
  assert:
    code:
      jsonpath: $.code
      type: ==
      value: 0
      AssertType: